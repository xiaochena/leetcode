const testSortFunction = require("./testSortFunction");

(() => {
  function insertionSort(arr) {
    for (let i = 1; i < arr.length; i++) {
      for (let j = i; j > 0 && arr[j] < arr[j - 1]; j--) {
        [arr[j], arr[j - 1]] = [arr[j - 1], arr[j]];
      }
    }
    return arr;
  }

  testSortFunction(insertionSort, { numTests: 5, arraySize: 200 });
})();

// 插入排序的核心思想是：
// 将数组分为已排序区间（初始为第一个元素）和未排序区间（初始为剩余元素）。
// 每次取未排序区间的第一个元素（称为 “待插入元素”）
// 通过与已排序区间从右向左比较，找到合适位置并插入，从而扩展已排序区间。

// 假设有一个无序数组：[5, 3, 8, 4, 2]
// 1. 从第二个元素（下标1）开始，i=1
// 内层for循环：j从i=1开始，向左检查 j>0 && arr[j]<arr[j-1]
// j=1，arr[1]=3 < arr[0]=5？是，交换arr[1]和arr[0] 得 [3,5,8,4,2]
// j-- 得 j=0，停止（j=0不>0）
// 已排序区间：[0..1]：[3,5] | 未排序：[8,4,2]

// 2. i=2
// j从2开始，向左检查
// j=2，arr[2]=8 < arr[1]=5？否，停止循环
// 无交换，数组不变：[3,5,8,4,2]
// 已排序区间：[3,5,8] | 未排序：[4,2]

// 3. i=3
// j从3开始，向左检查
// j=3，arr[3]=4 < arr[2]=8？是，交换arr[3]和arr[2] 得 [3,5,4,8,2]
// j-- 得 j=2
// j=2，arr[2]=4 < arr[1]=5？是，交换arr[2]和arr[1] 得 [3,4,5,8,2]
// j-- 得 j=1
// j=1，arr[1]=4 < arr[0]=3？否，停止
// 已排序区间：[3,4,5,8] | 未排序：[2]

// 4. i=4，key隐式为arr[4]=2
// j从4开始，向左检查
// j=4，arr[4]=2 < arr[3]=8？是，交换arr[4]和arr[3] 得 [3,4,5,2,8]
// j-- 得 j=3
// j=3，arr[3]=2 < arr[2]=5？是，交换arr[3]和arr[2] 得 [3,4,2,5,8]
// j-- 得 j=2
// j=2，arr[2]=2 < arr[1]=4？是，交换arr[2]和arr[1] 得 [3,2,4,5,8]
// j-- 得 j=1
// j=1，arr[1]=2 < arr[0]=3？是，交换arr[1]和arr[0] 得 [2,3,4,5,8]
// j-- 得 j=0，停止（j=0不>0）

// 最终数组：[2,3,4,5,8]，全已排序

// for (let i = 1; i < arr.length; i++) {
//   for (let j = i; j > 0 && arr[j] < arr[j - 1]; j--) {
//     [arr[j], arr[j - 1]] = [arr[j - 1], arr[j]];
//   }
// }
// return arr;
